<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="author" content="sofia_ting" />
    <title>Retro Market</title>

    <link rel="stylesheet" href="../../General/General.css" />
    <link rel="stylesheet" href="../Categoria.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Bungee+Inline&family=Bungee+Shade&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css"
    />
  </head>
  <body>
    <header class="header">
      <img
        src="../../imagenes/imagenes/logo/logo.png"
        alt="logo"
        class="logo"
      />
      <h1>Retro Market</h1>
      <div class="otro">
        <a href="../../Compra/Compra.html" style="color: black" class="carrito"
          ><i class="bi bi-cart4"></i
        ></a>
        <a href="../../Login/Login.html" style="color: black" class="cuenta"
          ><i class="bi bi-person-circle"></i
        ></a>
      </div>
    </header>

    <nav class="nav">
      <ul class="ul">
        <li>
          <i class="bi bi-fire"
            ><a href="../../MainPage/Entrada.html#top_juego"> Top juegos </a></i
          >
        </li>
        <li>
          <i class="bi bi-boxes"
            ><a href="../../MainPage/Entrada.html#novedades">Novedades</a></i
          >
        </li>
        <li>
          <i class="bi bi-columns-gap"
            ><a href="../../MainPage/Entrada.html#categoria">Categoría</a></i
          >
        </li>
      </ul>
    </nav>

    <main>
      <h2 class="h2">Novedad</h2>
      <section>
        <div class="fila" id="goods_list_view1">
          <div
            class="juego"
            onmouseover="mostrarDescripcion(this)"
            onmouseout="ocultarDescripcion(this)"
          >
            <img
              src="../../imagenes/imagenes/juegos novedad/n1.jpg"
              alt="img1"
            />
            <h3>The Legend of Zelda</h3>
            <p>Precio: 60.09€ <i class="bi bi-cart4"></i></p>
            <p class="descrip">
              The Legend of Zelda: Tears of the Kingdom para Nintendo Switch.
              Crea tu propia aventura en este mundo donde el límite es tu
              imaginación. En Breath of the Wild, tú decidirás qué camino seguir
              a lo largo de los inmensos paisajes de Hyrule y las misteriosas
              islas que flotan en el cielo.
            </p>
          </div>
          <div
            class="juego"
            onmouseover="mostrarDescripcion(this)"
            onmouseout="ocultarDescripcion(this)"
          >
            <img
              src="../../imagenes/imagenes/juegos novedad/n2.jpg"
              alt="img2"
            />
            <h3>Marvel's Spider-Man</h3>
            <p>Precio: 23.96€ <i class="bi bi-cart4"></i></p>
            <p class="descrip">
              Marvel's Spider-Man, con una jugabilidad en tercera persona,
              asumes el personaje del hombre araña, Spider-Man, lidiando con la
              vida personal de Peter Parker, así como luchando contra el villano
              superhumano Míster Negativo en su intento de apoderarse de los
              bajos fondos de Nueva York.
            </p>
          </div>
          <div
            class="juego"
            onmouseover="mostrarDescripcion(this)"
            onmouseout="ocultarDescripcion(this)"
          >
            <img
              src="../../imagenes/imagenes/juegos novedad/n3.jpg"
              alt="img3"
            />
            <h3>Lords of the Fallen</h3>
            <p>Precio: 33.49€ <i class="bi bi-cart4"></i></p>
            <p class="descrip">
              Lords of the Fallen, el juego se juega con el punto de vista en
              tercera persona. Acerca del Juego Empezarás creando y
              personalizando tu avatar, eligiendo entre varias clases de
              personajes. Hay dos mundos o reinos superpuestos: el de los vivos
              y el de los muertos.
            </p>
          </div>
        </div>

        <div class="fila" id="goods_list_view2">
          <div
            class="juego"
            onmouseover="mostrarDescripcion(this)"
            onmouseout="ocultarDescripcion(this)"
          >
            <img
              src="../../imagenes/imagenes/juegos novedad/n5.jpg"
              alt="img4"
            />
            <h3>Starfield</h3>
            <p>Precio: 39.89€ <i class="bi bi-cart4"></i></p>
            <p class="descrip">
              Starfield es un juego de PC, se puede jugar desde una perspectiva
              en primera o tercera persona. Según los desarrolladores del juego,
              esperan que este sea el comienzo de una gran franquicia, similar a
              las dos series mencionadas anteriormente.
            </p>
          </div>
          <div
            class="juego"
            onmouseover="mostrarDescripcion(this)"
            onmouseout="ocultarDescripcion(this)"
          >
            <img
              src="../../imagenes/imagenes/juegos novedad/n6.jpg"
              alt="img5"
            />
            <h3>Wo Long</h3>
            <p>Precio: 28.02€ <i class="bi bi-cart4"></i></p>
            <p class="descrip">
              Desde las profundidades de la oscuridad, un dragón se alza. En los
              Tres Reinos hecho por Team NINJA, creadores de Nioh. Año 184,
              finales de la dinastía Han en China. La tierra está sumida en el
              caos y la destrucción. Tras años de prosperidad, la dinastía
              imperial está a punto de caer
            </p>
          </div>
          <div
            class="juego"
            onmouseover="mostrarDescripcion(this)"
            onmouseout="ocultarDescripcion(this)"
          >
            <img
              src="../../imagenes/imagenes/juegos novedad/n7.jpg"
              alt="img6"
            />
            <h3>Rogue Trader Voidfarer</h3>
            <p>Precio: 65.62€ <i class="bi bi-cart4"></i></p>
            <p class="descrip">
              Rogue Trader Pase de temporada Consigue tanto Sombras del vacío
              como Lex Imperialis, las dos grandes expansiones de historia con
              montones de contenido adicional programadas para 2024. Completar
              cada DLC te llevará unas 15 horas. Libro de arte digital ¡Descubre
              la belleza de la Extensión de Koronus con este libro de arte
            </p>
          </div>
        </div>
      </section>
    </main>

    <footer class="footer">
      <div class="container">
        <div class="footer-content">
          <div class="footer-logo">
            <img src="../../imagenes/imagenes/logo/logo.png" alt="Tu Logo" />
            <p class="compania">Retro Market</p>
          </div>
          <div class="footer-info">
            <h3>Contacto</h3>
            <p>Dirección: Calle sol 23</p>
            <p>Email: retromarket@gmail.com</p>
            <p>Teléfono: +34 623 789 123</p>
          </div>
          <div class="footer-links">
            <h3>Enlaces</h3>
            <ul>
              <li><a href="/">Inicio</a></li>
              <li><a href="/productos">Productos</a></li>
              <li><a href="/contacto">Contacto</a></li>
            </ul>
          </div>
          <div class="footer-social">
            <h3>Síguenos</h3>
            <ul>
              <li>
                <a href="https://es-es.facebook.com/" target="_blank"
                  >Facebook</a
                >
              </li>
              <li>
                <a href="https://www.tiktok.com/en/" target="_blank">Tiktok</a>
              </li>
              <li>
                <a href="https://www.instagram.com/" target="_blank"
                  >Instagram</a
                >
              </li>
            </ul>
          </div>
        </div>
      </div>
      <p>&copy; 2024 Retro Market Web. Todos los derechos reservados.</p>
    </footer>
    <script src="../Categoria.js"></script>
    <script src="../../General/General.js"></script>
    <script>
      let goods_list = [];

      // 初始化页面
      fetch("../../data/juegos.json").then(
        (res) => {
          res.json().then((resul) => {
            goods_list = resul.lista_juego;
            // 渲染页面
            let html1 = "";
            let html2 = "";
            goods_list.forEach((item) => {
              if (item.type === 4) {
                html1 += `<div
                class="juego"
                id="goods_item"
                onmouseover="mostrarDescripcion(this)"
                onmouseout="ocultarDescripcion(this)"
                data-id="${item.id}"
              >
                <img
                  src="${item.image}"
                  alt="img2"
                />
                <h3>${item.title}</h3>
                <p>Precio: ${item.price} € <i class="bi bi-cart4"></i></p>
                <p class="descrip">${item.text}</p>
              </div>`;
              }
              if (item.type === 5) {
                html2 += `<div
                class="juego"
                id="goods_item"
                data-id="${item.id}"
              >
                <img
                  src="${item.image}"
                  alt="img2"
                />
                <h3>${item.title}</h3>
                <p>Precio: ${item.price} € <i class="bi bi-cart4"></i></p>
                <p class="descrip">${item.text}</p>
              </div>`;
              }
            });
            document.querySelector("#goods_list_view1").innerHTML = html1;
            document.querySelector("#goods_list_view2").innerHTML = html2;
            // 为页面绑定事件
            const goods_list_child_view =
              document.querySelectorAll("#goods_item");
            for (let i = 0; i < goods_list_child_view.length; i++) {
              const dom_item = goods_list_child_view[i];
              const goods_id = dom_item.getAttribute("data-id"); //当前点击商品的ID
              const goods_item = goods_list.find(
                (item) => item.id === parseInt(goods_id)
              ); // 通过ID把对呀商品数据取出来

              dom_item.addEventListener("mouseover", () =>
                mostrarDescripcion(dom_item)
              );
              dom_item.addEventListener("mouseout", () =>
                ocultarDescripcion(dom_item)
              );
              dom_item
                .querySelector(".bi-cart4")
                .addEventListener("click", () => onAddCart(goods_item));
            }
          });
        },
        (err) => err
      );
    </script>
  </body>
</html>
